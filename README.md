# Стенд для тестирования различных библиотек и методов для решения задачи NER (Named Entity Recognition)

Стенд развернут на ВМ (id - 9d427212-6a53-4848-b119-17f44663e1d4) в [cloud](https://cloud.ru) и для использования стенда перейдите по адресу: http://213.171.27.97:3000

# Подробное описание проекта

Стенд представляет собой комплексное решение задачи NER и тестирование различных библиотек и методов в решении данной задачи. Основной целью является быстрое выявление именованных сущностей из текста и определение лучшей библиотеки и метода для задачи. Основной функционал включает в себя:
- Ядро ner_kernel, где определяется загрузчик данных (поддерживает HTML и обычный текст) и предпроцессинг текста, определяются датаклассы документов и сущностей и основное - определяются модели и пайплайн.
- service - определяет код сервиса или же ручку, которая использует классы, методы, фукнции из ядра и позволяет обращаться за результатами.
- frontend - оболочка, которая дае dт пользователю NoCode решение: загрузка текста, выбор модели и получение результата.
 
# Бизнес цели
## Сокращение времени анализа новостей и других текстов
- Уменьшение времени анализа текстов для выявление ключевых персон и организаций до нескольких секунд.
- Автоматизация процесса выявление тегов. (Если тексте упоминается США, то ставим тег США).

## Повышение качества анализа
- Убирается человеческий фактор в анализе текстов
- В ядре доступен validator, который считает метрики к gold разметкой, что позволяет сравнивать качество автоматического решения.

## Подбор наиболее подходящей модели для решения задачи NER
- В зависимости от языка текста можно выбирать модели как для русского языка, так и для английского или других языков, что позволяет гибко подстроиться под задачи и тексты бизнеса.

# ML цели
## Точность и минимизация ошибок
- Достижение общей точности классификации выше 90%
- Внедрение системы оценки результатов при наличии разметки

## Мультизадачность
- Одновременное определение до 5 различных именованных сущностей

# Архитектура системы (C4 model)
## Container Level
Web Interface (JS + React) --> User input (text and settings) --> Text processor --> ML Models --> Response Formatter

# Выбор используемого стека
### Python (3.12)
- Основная логика бэкенда (FastAPI, обертки для моделей NER, определение ядра)
- Python удобен для интеграции со стандартными NER-фреймворками

### FastAPI
- Легкая настройка роутинга (эндпоинты /predict, / и т.п.)
- Фреймворк для создания веб-приложений/REST API

### NER-Models
- spaCy: Быстрая модель ru_core_news_sm для русского языка
- HuggingFace (Transformers): Модель dslim/bert-base-NER для многоязычного NER
- Flair: Модель ner-fast быстрая модель для многоязычного NER (Русский не поддерживается)

### React (JS)
- Основная логика фронтенда

### Docker
- Удобная контейниризация приложения
- Позволяет запускать приложения в контейнерах, обосабливаясь от локальных и глобальных данных.

### Cloud
- Удобный интерфейс для развертывания приложений

# API Endpoints
### Prediction Endpoint
POST /predict Content-Type: application/json

Parameters:
- text: str
- model_name: str (spacy, hf, flair)

Example response Format
{"entities":[{"entity":"PER","start_offset":0,"end_offset":9,"text":"Илон Маск"},{"entity":"ORG","start_offset":18,"end_offset":24,"text":"SpaceX"}]}

# Инструкция по установке
Для использования ядра
```
pip install -r requirements.txt
```
Для сервиса
```
docker-compose up --build
```

# Сетевая архитектура
DMZ (Demilitarized Zone)
- Nginx как reverse proxy
- Web Application Firewall

# Планы по улучшению системы
- Добавление более гибкого выбора модели как в рамках одной библиотеки, например huggingface transformers, так и в рамках добавления новых библиотек
- Добавить Load balancer
- Добавить обработку PDF на стороне ядра и обработку PDF и HTML на стороне веб-интерфейса
- Добавить обработку огромных текстов
- Добавить гибкой настройки моделей
- Добавить собственные реализации решения NER, например, агентами (LLM агент извлечения -> LLM агент проверки -> ...)

# Сделали:

Копылов Михаил Юрьевич (М8О-401Б-21)

- ML
- Backend
- Frontend
- Devops
- Архитектура системы
